C51 COMPILER V7.05   ITOA                                                                  12/01/2012 02:55:08 PAGE 1   


C51 COMPILER V7.05, COMPILATION OF MODULE ITOA
OBJECT MODULE PLACED IN itoa.OBJ
COMPILER INVOKED BY: C:\SiLabs\MCU\IDEfiles\C51\BIN\C51.exe itoa.c DB OE BR

stmt level    source

   1          #include "itoa.h"
   2          
   3          #define NUM5 10000
   4          #define NUM4 1000
   5          #define NUM3 100
   6          #define NUM2 10
   7          #define NUM1 1
   8          
   9          #define TEST(k)  if ( i / NUM##k ) { s = k; }
  10          #define TRUNC(n) do { a[p++] = i / n + 0x30; i %= n; } while(0)
  11          #define MCASE(k) case k: TRUNC(NUM##k) 
  12          
  13          void itoa8(uint8_t i, char *a) {
  14   1          uint8_t p = 0;
  15   1          uint8_t s = 3;
  16   1      
  17   1          // DOCJK
  18   1          TEST(3) else
  19   1          TEST(2) else
  20   1          TEST(1)
  21   1      
  22   1          switch(s) {
  23   2              MCASE(3);
  24   2              MCASE(2);
  25   2              MCASE(1);
  26   2          }
  27   1      }
  28          
  29          void itoa16(uint16_t i, char *a) {
  30   1          uint8_t p = 0;
  31   1          uint8_t s = 5;
  32   1          // max is 65,535
  33   1      
  34   1          // DOCJK
  35   1          TEST(5) else
  36   1          TEST(4) else
  37   1          TEST(3) else
  38   1          TEST(2) else
  39   1          TEST(1)
  40   1      
  41   1          switch(s) {
  42   2              MCASE(5);
  43   2              MCASE(4);
  44   2              MCASE(3);
  45   2              MCASE(2);
  46   2              MCASE(1);
  47   2          }
  48   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    466    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
C51 COMPILER V7.05   ITOA                                                                  12/01/2012 02:55:08 PAGE 2   

   DATA SIZE        =   ----       9
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
